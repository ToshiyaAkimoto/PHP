# PHP練習問題② 説明

## 下記for文の`$i = 0`, `$i <= 4`, `$i++`, `echo $i`がそれぞれ、どの順番で処理されるか、また、何をしているのかを説明してください。

```
for ($i = 0; $i <= 4; $i++) {
    echo $i;
}
```

1. $i = 0 //iを0と定義(最初のみ)
2. $i++ //iの値を1増やす
3. $i <= 4 //iが4以下の時
4. echo $i //iの値を表示する

## for文とforeachはどのように使い分けるのか説明してください。
- for文:最初に()内でループ回数を指定する必要がある都合上、ループの回数が決まっているものに対して使う。また、foreachは配列に対してのみ使えるため、配列以外のものに対してループさせる場合はfor文を使う。
  foreach文:配列に対して使う。特に連想配列に使いやすい。また、対象となるデータの個数分だけループしてくれるので、ループの回数がわからないものに対して使う。

## クラスとインスタンスの違いについて説明してください。
- クラス:関連のあるメソッドやプロパティをまとめた、大きな枠組み。インスタンス化することで、使用できるようになる。
  インスタンス:クラスを使用できる形にしたもの。変数 = new クラス名();のような形で、変数を使用してクラスなどを呼び出せるようにすることをインスタンス化という。

## プロパティとメソッドとはなにか説明してください。
- プロパティ：クラス内で定義する変数。データを入れる入れ物。
  メソッド：クラス内で定義する関数。処理を入れる入れ物。

## コンストラクタとはなにか、また、なぜ必要なのかを説明してください。
- コンストラクタ：インスタンスを作成する際に、自動的に呼び出されて実行される関数。
　クラスが実行されるたびに()内に記載した変数が初期化されるため、データの指定ミスが発生しづらくなるという長所がある。

## 下記コンストラクター内の2行が何をしているのか、また、なぜこの2行が必要なのか説明してください。
```
public function __construct($id, $name)
{
    $this->studentId = $id;
    $this->studentName = $name;
}
```
- 1行目：関数外で定義された「$id」を、studentIdとして登録する。
　2行目：関数外で定義された「$name」を、studentNameとして登録する。
  この2行がない場合、echo等でデータを呼び出そうとしても、データが定義されておらず出力できなくなってしまう。(returnを使用する理由のように、関数外から指定をされても、データを参照できないイメージ)

## クラスがなぜ必要なのか説明してください。
- 繰り返し使用する関数をまとめて記述できることで、関数に修正が発生した際に修正する箇所が少なくなり、保守性が高くなるため、必要。

## `DateTime::modify`メソッドの返り値を教えてください。
- 何を答えたらよいかよくわからなかったので、いったんmodifyについて調べた結果を記入します。

　modifyは、DateTime->modify(日付,'変更する日数等')のような形で使用し、変更されたDateTimeを返します。日付に対して、第二引数で指定した日数を修正した値を返します。

## `DateTime::format`メソッドと`DateInterval::format`メソッドの違いを教えてください。
- DateTime: 現在の日時または任意の日時を作成するオブジェクト。
　DateInterval: 日付の間隔を表すオブジェクト。
　また、両者の表記方法も異なる。
　DateTime::formatは、('y-m-d h-i-s')のような形で表記する。例；('2024-05-05 12:00:00')→2024年5月5日、12時0分0秒
　DateInterval::formatは、Pに続いて、数値と値を入れて、差を表現する。例：('P1Y2M3D4H5I6S')→1年2ヶ月3日、4時間5分6秒
DateTimeに対してDateIntervalを足し引きすることが可能。うるう年や月またぎ等の計算も自動的にしてくれるので、計算ミスが起こりづらい。

y:年 m:月 d:日 h:時間 i:分 s:秒 P:間隔値の初めにつける

## 下記コード3行目のformatメソッドの返り値をPHPのマニュアルから調べる手順を具体的に説明してください。
```
$now = new DateTime();
$prev = new DateTime('2000-1-1');
echo $prev->diff($now)->format('%a')
```

- 
3行目では、おそらくnowとprevの差となる日数を出していると思われるので、その想定をもとに調査をする。
もし値を出力できる環境であれば、上記3行をphp Editorに入れて、実行し、どのような関数か想定をする。
ブックマークから以下のページを開き、検索窓に検索ワードを入力する
https://www.php.net/manual/ja/index.php
・diff
diffと入力したところいくつか候補が出てきたが、1行目・2行目がDateTimeについての変数となっているため、DateTimeInterface::diffをクリック。想定通り、DateTime::diffについての記述が出てきた。
説明を見ると、「ふたつの DateTime オブジェクトの差を返します。」とあるので、やはり日付の差を算出するオブジェクトである。

・formatについて
formatと入力したところこちらもいくつか候補が出てきたが、上記の調査によって日付の差を算出するものであるとわかっているため、DateInterval::formatをクリック。
「間隔をフォーマットします。」という説明が出てきたが、結局フォーマットの意味はどこにも書いていなかったので、Google検索で英語の意味を調査。「仕様、書式、初期化」といった意味があるようなので、おそらくデータをどのような型で出すのか設定するためのものであると判断。
パラメータ欄を見ると、3行目のカッコ内に記載されている%とaに関する表記がそれぞれあるので、参照する。
%は「リテラルとしての %」「 フォーマット文字は、パーセント記号 (%) で始めなければなりません。」とある。書式を指定する際のルールとして記載する必要があるものと想定。
aは「	DateTime::diff() の結果に使った場合は総日数、それ以外の場合は (unknown)」とある。3行目でdiffを使っているため、総日数が算出されているものと想定。

ここまでの情報から、3行目は「日付データ$prevと$nowの差を、日数として表示するメソッドである」と考えられる。

以上